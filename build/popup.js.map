{"version":3,"file":"popup.js","mappings":"yBACIA,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CCrBAJ,EAAoBO,EAAKF,IACxB,IAAIG,EAASH,GAAUA,EAAOI,WAC7B,IAAOJ,EAAiB,QACxB,IAAM,EAEP,OADAL,EAAoBU,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdR,EAAoBU,EAAI,CAACN,EAASQ,KACjC,IAAI,IAAIC,KAAOD,EACXZ,EAAoBc,EAAEF,EAAYC,KAASb,EAAoBc,EAAEV,EAASS,IAC5EE,OAAOC,eAAeZ,EAASS,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDb,EAAoBc,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,G,0BCIlF,WAQE,MAAMI,EAAiB,CACrBN,IAAKO,IACHC,OAAOC,QAAQC,KAAKV,IAAI,CAAC,UAAUW,IACjCJ,EAAGI,EAAOC,MAAM,GAChB,EAEJC,IAAK,CAACC,EAAOP,KACXC,OAAOC,QAAQC,KAAKG,IAClB,CACED,MAAOE,IAET,KACEP,GAAI,GAEP,GAIL,SAASQ,EAAaC,EAAe,GACnCC,SAASC,eAAe,WAAWC,UAAYH,EAE/CC,SAASC,eAAe,gBAAgBE,iBAAiB,SAAS,KAChEC,EAAc,CACZC,KAAM,aACN,IAGJL,SAASC,eAAe,gBAAgBE,iBAAiB,SAAS,KAChEC,EAAc,CACZC,KAAM,aACN,GAEN,CAEA,SAASD,GAAc,KAAEC,IACvBhB,EAAeN,KAAIY,IACjB,IAAIW,EAGFA,EADW,cAATD,EACSV,EAAQ,EACD,cAATU,EACEV,EAAQ,EAERA,EAGbN,EAAeO,IAAIU,GAAU,KAC3BN,SAASC,eAAe,WAAWC,UAAYI,EAI/Cf,OAAOgB,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,IAAQH,IACvD,MAAMI,EAAMJ,EAAK,GAEjBhB,OAAOgB,KAAKK,YACVD,EAAIE,GACJ,CACER,KAAM,QACNS,QAAS,CACPnB,MAAOW,KAGXS,IACEC,QAAQC,IAAI,mDAAmD,GAElE,GACD,GACF,GAEN,CAgBAjB,SAASG,iBAAiB,oBAd1B,WAEEd,EAAeN,KAAIY,SACI,IAAVA,EAETN,EAAeO,IAAI,GAAG,KACpBE,EAAa,EAAE,IAGjBA,EAAaH,EACf,GAEJ,IAKAJ,OAAO2B,QAAQN,YACb,CACEP,KAAM,YACNS,QAAS,CACPK,QAAS,6CAGbJ,IACEC,QAAQC,IAAIF,EAASI,QAAQ,GAGlC,CA3GD,E","sources":["webpack://twilio-hubspot-ctd/webpack/bootstrap","webpack://twilio-hubspot-ctd/webpack/runtime/compat get default export","webpack://twilio-hubspot-ctd/webpack/runtime/define property getters","webpack://twilio-hubspot-ctd/webpack/runtime/hasOwnProperty shorthand","webpack://twilio-hubspot-ctd/./src/popup.js"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","'use strict';\n\nimport './popup.css';\n\n(function() {\n  // We will make use of Storage API to get and store `count` value\n  // More information on Storage API can we found at\n  // https://developer.chrome.com/extensions/storage\n\n  // To get storage access, we have to mention it in `permissions` property of manifest.json file\n  // More information on Permissions can we found at\n  // https://developer.chrome.com/extensions/declare_permissions\n  const counterStorage = {\n    get: cb => {\n      chrome.storage.sync.get(['count'], result => {\n        cb(result.count);\n      });\n    },\n    set: (value, cb) => {\n      chrome.storage.sync.set(\n        {\n          count: value,\n        },\n        () => {\n          cb();\n        }\n      );\n    },\n  };\n\n  function setupCounter(initialValue = 0) {\n    document.getElementById('counter').innerHTML = initialValue;\n\n    document.getElementById('incrementBtn').addEventListener('click', () => {\n      updateCounter({\n        type: 'INCREMENT',\n      });\n    });\n\n    document.getElementById('decrementBtn').addEventListener('click', () => {\n      updateCounter({\n        type: 'DECREMENT',\n      });\n    });\n  }\n\n  function updateCounter({ type }) {\n    counterStorage.get(count => {\n      let newCount;\n\n      if (type === 'INCREMENT') {\n        newCount = count + 1;\n      } else if (type === 'DECREMENT') {\n        newCount = count - 1;\n      } else {\n        newCount = count;\n      }\n\n      counterStorage.set(newCount, () => {\n        document.getElementById('counter').innerHTML = newCount;\n\n        // Communicate with content script of\n        // active tab by sending a message\n        chrome.tabs.query({ active: true, currentWindow: true }, tabs => {\n          const tab = tabs[0];\n\n          chrome.tabs.sendMessage(\n            tab.id,\n            {\n              type: 'COUNT',\n              payload: {\n                count: newCount,\n              },\n            },\n            response => {\n              console.log('Current count value passed to contentScript file');\n            }\n          );\n        });\n      });\n    });\n  }\n\n  function restoreCounter() {\n    // Restore count value\n    counterStorage.get(count => {\n      if (typeof count === 'undefined') {\n        // Set counter value as 0\n        counterStorage.set(0, () => {\n          setupCounter(0);\n        });\n      } else {\n        setupCounter(count);\n      }\n    });\n  }\n\n  document.addEventListener('DOMContentLoaded', restoreCounter);\n\n  // Communicate with background file by sending a message\n  chrome.runtime.sendMessage(\n    {\n      type: 'GREETINGS',\n      payload: {\n        message: 'Hello, my name is Pop. I am from Popup.',\n      },\n    },\n    response => {\n      console.log(response.message);\n    }\n  );\n})();\n"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","counterStorage","cb","chrome","storage","sync","result","count","set","value","setupCounter","initialValue","document","getElementById","innerHTML","addEventListener","updateCounter","type","newCount","tabs","query","active","currentWindow","tab","sendMessage","id","payload","response","console","log","runtime","message"],"sourceRoot":""}