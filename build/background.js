(()=>{"use strict";const e="READY";function t(e){chrome.storage.local.set({theme:e},(async()=>{}))}function a(){chrome.tabs.create({url:"https://flex.twilio.com/",active:!0})}async function o(){const[e]=await chrome.tabs.query({url:["*://localhost/*","*://flex.twilio.com/*"]});return e}chrome.runtime.onInstalled.addListener((async()=>{t(e);const a=await o();a&&chrome.tabs.reload(a.id)})),chrome.runtime.onMessage.addListener(((c,s,n)=>{"GREETINGS"===c.type&&n({message:`Hi ${s.tab?"Con":"Pop"}, my name is Bac. I am from Background. It's great to hear from you.`}),"dial"!==c.actionType&&"gotoCustomer"!==c.actionType||async function(c){chrome.storage.local.get("theme",(async({theme:s})=>{if("WORKING"!==s){const s=await o();s?(await chrome.tabs.sendMessage(s.id,{...c,from:"BACKGROUND"}),await chrome.tabs.update(s.id,{active:!0})):(t(e),a())}else t("ERROR")}))}(c)})),chrome.action.onClicked.addListener((async()=>{const e=await o();e?chrome.tabs.update(e.id,{active:!0}):a()}))})();
//# sourceMappingURL=background.js.map